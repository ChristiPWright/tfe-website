<?xml version="1.0" encoding="UTF-8"?>

<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-2.1.xsd"
        require-authentication="anonymous-view">
    
     <!-- <actions>
        <service-call name="tfe-website.ProductServices.get#ProductInfo" in-map="productId" out-map="allProductInfo"/>
    </actions> -->
    <actions>
        <!-- Get product category -->
        <!-- <entity-find entity-name="mantle.product.category.ProductCategoryMember" list="allProductsCat" cache="true">
            <econdition field-name="productCategoryId" value="PAINTING"/>
            <econdition field-name="productId" operator="in" from="allProductsCat" />
        </entity-find>
        <log message="${allProductsCat}" />
        <log message="${productId}" />
        <if condition="allProductsCat">
            <service-call name="tfe-website.ProductServices.get#CategoryProducts" out-map="allCatProdOut"
                    in-map="[productCategoryId:allProductsCat[0].productCategoryId]"/>
            <set field="allProductList" from="allCatProdOut.productList"/>
        </if> -->

        <service-call name="tfe-website.ProductServices.get#CategoryProducts" out-map="allPaintingProdOut" />
        <set field="allProd" from="allPaintingProdOut.productList"/>
        <log message="${allProd}" />

    </actions>
   

    <widgets>
        <label type="h1" text="I'm on the home.xml file!"/>
        <render-mode>
            <text type="html" location="component://tfe-website/template/tfe-website/navbar.html.ftl"/>
        </render-mode>
        <render-mode>
            <text type="html" location="component://tfe-website/template/tfe-website/home.html.ftl"/>
        </render-mode>
        <render-mode>
            <text type="html" location="component://tfe-website/template/tfe-website/footer.html.ftl"/>
        </render-mode>
    </widgets>
</screen>